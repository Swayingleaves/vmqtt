# V-MQTT é›†ç¾¤åŠŸèƒ½å®ç°æ€»ç»“

## æ¦‚è¿°

æˆåŠŸä¸ºV-MQTTé¡¹ç›®å®ç°äº†å®Œæ•´çš„é›†ç¾¤åŠŸèƒ½ï¼ŒåŒ…æ‹¬è·¨èŠ‚ç‚¹è®¢é˜…ä¿¡æ¯åŒæ­¥æœºåˆ¶å’Œé›†ç¾¤æ¶ˆæ¯è·¯ç”±åŠŸèƒ½ã€‚æœ¬å®ç°æ”¯æŒé«˜æ€§èƒ½ã€é«˜å¹¶å‘çš„MQTTé›†ç¾¤éƒ¨ç½²åœºæ™¯ã€‚

## ğŸ“‹ ä»»åŠ¡å®Œæˆæƒ…å†µ

### âœ… ä»»åŠ¡1ï¼šè·¨èŠ‚ç‚¹è®¢é˜…ä¿¡æ¯åŒæ­¥æœºåˆ¶
- **ClusterSubscriptionManager**: ç®¡ç†å…¨å±€è®¢é˜…ä¿¡æ¯çš„æ ¸å¿ƒç»„ä»¶
- **GossipSubscriptionProtocol**: åŸºäºGossipåè®®çš„è®¢é˜…ä¿¡æ¯ä¼ æ’­æœºåˆ¶
- **SubscriptionConflictResolver**: è®¢é˜…ä¿¡æ¯å†²çªè§£å†³å™¨
- **ClusterAwareSessionManager**: ä¸ç°æœ‰SessionManagerçš„é›†æˆ

### âœ… ä»»åŠ¡2ï¼šé›†ç¾¤æ¶ˆæ¯è·¯ç”±åŠŸèƒ½
- **ClusterMessageRoutingEngine**: å¢å¼ºçš„æ¶ˆæ¯è·¯ç”±å¼•æ“ï¼Œæ”¯æŒé›†ç¾¤è·¯ç”±
- **ClusterMessageDistributor**: è·¨èŠ‚ç‚¹æ¶ˆæ¯åˆ†å‘å™¨
- **gRPCé›†ç¾¤é€šä¿¡æœåŠ¡**: ClusterSubscriptionServiceImpl å’Œ ClusterMessageRoutingServiceImpl
- **ClusterRoutingOptimizer**: æ¶ˆæ¯è·¯ç”±æ€§èƒ½ä¼˜åŒ–å™¨
- **ClusterAwareLoadBalancer**: é›†ç¾¤æ„ŸçŸ¥è´Ÿè½½å‡è¡¡å™¨

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„è®¾è®¡

### ç»„ä»¶æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              VmqttClusterManager                â”‚
â”‚            (é›†ç¾¤æ€»æ§åˆ¶å™¨)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è®¢é˜…ç®¡ç†å±‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ClusterSubscriptionâ”‚  â”‚GossipSubscription  â”‚    â”‚
â”‚  â”‚    Manager      â”‚  â”‚     Protocol       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚SubscriptionConflictâ”‚ â”‚ClusterAwareSession â”‚    â”‚
â”‚  â”‚   Resolver      â”‚  â”‚     Manager        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¶ˆæ¯è·¯ç”±å±‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ClusterMessage   â”‚  â”‚ClusterMessage      â”‚    â”‚
â”‚  â”‚RoutingEngine    â”‚  â”‚   Distributor      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ClusterRouting   â”‚  â”‚ClusterAware        â”‚    â”‚
â”‚  â”‚  Optimizer      â”‚  â”‚ LoadBalancer       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é€šä¿¡å±‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚gRPC Server      â”‚  â”‚gRPC Client         â”‚    â”‚
â”‚  â”‚ Services        â”‚  â”‚                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŸºç¡€è®¾æ–½å±‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ServiceRegistry  â”‚  â”‚ClusterNodeManager  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶è¯¦è§£

### 1. ClusterSubscriptionManager
- **åŠŸèƒ½**: ç®¡ç†é›†ç¾¤å†…æ‰€æœ‰èŠ‚ç‚¹çš„è®¢é˜…ä¿¡æ¯
- **ç‰¹æ€§**: 
  - æ”¯æŒè®¢é˜…ä¿¡æ¯çš„é›†ç¾¤åŒæ­¥
  - è®¢é˜…ä¿¡æ¯ç‰ˆæœ¬æ§åˆ¶å’Œå†²çªæ£€æµ‹
  - å¼‚æ­¥æ“ä½œå’Œæ€§èƒ½ä¼˜åŒ–
- **æ–‡ä»¶**: `/vmqtt-core/src/main/java/com/vmqtt/vmqttcore/cluster/ClusterSubscriptionManager.java`

### 2. GossipSubscriptionProtocol
- **åŠŸèƒ½**: åŸºäºSWIMåè®®å®ç°è®¢é˜…ä¿¡æ¯çš„å»ä¸­å¿ƒåŒ–ä¼ æ’­
- **ç‰¹æ€§**:
  - ä¼ æ’­è½®æ¬¡æ§åˆ¶å’ŒTTLç®¡ç†
  - è‡ªåŠ¨æ•…éšœæ£€æµ‹å’Œæ¢å¤
  - æ¶ˆæ¯å»é‡å’Œæ€§èƒ½ç»Ÿè®¡
- **æ–‡ä»¶**: `/vmqtt-core/src/main/java/com/vmqtt/vmqttcore/cluster/GossipSubscriptionProtocol.java`

### 3. SubscriptionConflictResolver
- **åŠŸèƒ½**: è§£å†³é›†ç¾¤ä¸­çš„è®¢é˜…ä¿¡æ¯å†²çª
- **æ”¯æŒçš„å†²çªç±»å‹**:
  - ç‰ˆæœ¬å†²çª (VERSION_CONFLICT)
  - èŠ‚ç‚¹å†²çª (NODE_CONFLICT) 
  - é‡å¤è®¢é˜… (DUPLICATE_SUBSCRIPTION)
- **æ–‡ä»¶**: `/vmqtt-core/src/main/java/com/vmqtt/vmqttcore/cluster/SubscriptionConflictResolver.java`

### 4. ClusterMessageRoutingEngine
- **åŠŸèƒ½**: é›†ç¾¤æ¶ˆæ¯è·¯ç”±å†³ç­–å’Œæ‰§è¡Œ
- **ç‰¹æ€§**:
  - æœ¬åœ°å’Œè¿œç¨‹è·¯ç”±å†³ç­–
  - æ‰¹é‡æ¶ˆæ¯å¤„ç†ä¼˜åŒ–
  - è·¯ç”±æ€§èƒ½ç»Ÿè®¡å’Œç›‘æ§
- **æ–‡ä»¶**: `/vmqtt-core/src/main/java/com/vmqtt/vmqttcore/cluster/ClusterMessageRoutingEngine.java`

### 5. ClusterMessageDistributor
- **åŠŸèƒ½**: è·¨èŠ‚ç‚¹æ¶ˆæ¯åˆ†å‘å™¨
- **åˆ†å‘ç­–ç•¥**:
  - å¹¿æ’­åˆ†å‘ (DISTRIBUTION_BROADCAST)
  - é€‰æ‹©æ€§åˆ†å‘ (DISTRIBUTION_SELECTIVE)
  - è´Ÿè½½å‡è¡¡åˆ†å‘ (DISTRIBUTION_LOAD_BALANCED)
- **æ–‡ä»¶**: `/vmqtt-core/src/main/java/com/vmqtt/vmqttcore/cluster/ClusterMessageDistributor.java`

### 6. ClusterRoutingOptimizer
- **åŠŸèƒ½**: è·¯ç”±æ€§èƒ½ä¼˜åŒ–å™¨
- **ä¼˜åŒ–æŠ€æœ¯**:
  - è·¯ç”±å†³ç­–ç¼“å­˜
  - æ‰¹é‡æ¶ˆæ¯å¤„ç†
  - èŠ‚ç‚¹æ€§èƒ½è¯„ä¼°
  - è¿æ¥æ± ç®¡ç†
- **æ–‡ä»¶**: `/vmqtt-core/src/main/java/com/vmqtt/vmqttcore/cluster/ClusterRoutingOptimizer.java`

### 7. ClusterAwareLoadBalancer
- **åŠŸèƒ½**: é›†ç¾¤æ„ŸçŸ¥è´Ÿè½½å‡è¡¡å™¨
- **è´Ÿè½½å‡è¡¡ç­–ç•¥**:
  - è½®è¯¢ (ROUND_ROBIN)
  - åŠ æƒè½®è¯¢ (WEIGHTED_ROUND_ROBIN)
  - æœ€å°‘è¿æ¥ (LEAST_CONNECTIONS)
  - æœ€çŸ­å“åº”æ—¶é—´ (LEAST_RESPONSE_TIME)
  - ä¸€è‡´æ€§å“ˆå¸Œ (CONSISTENT_HASH)
  - éšæœºé€‰æ‹© (RANDOM)
- **æ–‡ä»¶**: `/vmqtt-core/src/main/java/com/vmqtt/vmqttcore/cluster/ClusterAwareLoadBalancer.java`

## ğŸ“¡ gRPC æœåŠ¡æ¥å£

### æ‰©å±•çš„Protocol Bufferså®šä¹‰
- **æ–‡ä»¶**: `/vmqtt-common/src/main/proto/cluster_service.proto`
- **æ–°å¢æœåŠ¡**:
  - `ClusterSubscriptionService`: é›†ç¾¤è®¢é˜…ç®¡ç†
  - `ClusterMessageRoutingService`: é›†ç¾¤æ¶ˆæ¯è·¯ç”±

### gRPCæœåŠ¡å®ç°
1. **ClusterSubscriptionServiceImpl**: è®¢é˜…æœåŠ¡gRPCå®ç°
2. **ClusterMessageRoutingServiceImpl**: è·¯ç”±æœåŠ¡gRPCå®ç°
3. **ClusterGrpcClient**: é›†ç¾¤gRPCå®¢æˆ·ç«¯

## ğŸ§ª æµ‹è¯•éªŒè¯

### å•å…ƒæµ‹è¯•
- **æ–‡ä»¶**: `/vmqtt-core/src/test/java/com/vmqtt/vmqttcore/cluster/ClusterIntegrationTest.java`
- **è¦†ç›–åŠŸèƒ½**:
  - è®¢é˜…ç®¡ç†åŸºæœ¬æ“ä½œ
  - å†²çªè§£å†³æœºåˆ¶
  - æ¶ˆæ¯è·¯ç”±å¼•æ“
  - è´Ÿè½½å‡è¡¡å™¨

### åœºæ™¯éªŒè¯æ”¯æŒ
å®ç°åçš„ç³»ç»Ÿæ”¯æŒä»¥ä¸‹é›†ç¾¤åœºæ™¯ï¼š
1. å®¢æˆ·ç«¯Aè¿æ¥èŠ‚ç‚¹Aï¼Œè®¢é˜…topic "sensor/temp"
2. å®¢æˆ·ç«¯Bè¿æ¥èŠ‚ç‚¹Bï¼Œè®¢é˜…åŒä¸€topic "sensor/temp"  
3. å®¢æˆ·ç«¯Cä»èŠ‚ç‚¹Cå‘å¸ƒæ¶ˆæ¯åˆ°"sensor/temp"
4. å®¢æˆ·ç«¯Aå’ŒBéƒ½èƒ½æ”¶åˆ°æ¶ˆæ¯

## ğŸ“Š æ€§èƒ½ç‰¹æ€§

### é«˜æ€§èƒ½è®¾è®¡
- **å¼‚æ­¥å¤„ç†**: æ‰€æœ‰é›†ç¾¤æ“ä½œå‡é‡‡ç”¨CompletableFutureå¼‚æ­¥æ‰§è¡Œ
- **æ‰¹é‡å¤„ç†**: æ”¯æŒæ¶ˆæ¯æ‰¹é‡è·¯ç”±å’Œåˆ†å‘
- **ç¼“å­˜ä¼˜åŒ–**: è·¯ç”±å†³ç­–ç¼“å­˜å’Œè®¢é˜…ä¿¡æ¯ç¼“å­˜
- **è¿æ¥å¤ç”¨**: gRPCè¿æ¥æ± ç®¡ç†

### å¯æ‰©å±•æ€§
- **æ°´å¹³æ‰©å±•**: æ”¯æŒåŠ¨æ€èŠ‚ç‚¹åŠ å…¥å’Œé€€å‡º
- **è´Ÿè½½å‡è¡¡**: æ™ºèƒ½è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œæ”¯æŒå¤šç§ç­–ç•¥
- **æ•…éšœå®¹é”™**: è‡ªåŠ¨æ•…éšœæ£€æµ‹å’Œæ¢å¤æœºåˆ¶

## ğŸ”§ é…ç½®å’Œéƒ¨ç½²

### å…³é”®é…ç½®å‚æ•°
```yaml
# é›†ç¾¤é…ç½®ç¤ºä¾‹
cluster:
  enabled: true
  gossip:
    interval: 10s
    fanout: 3
    ttl: 300s
  routing:
    cache-ttl: 300s
    batch-size: 50
    batch-timeout: 100ms
  load-balancer:
    strategy: WEIGHTED_ROUND_ROBIN
    health-check-interval: 5s
```

### éƒ¨ç½²è¦æ±‚
- **Javaç‰ˆæœ¬**: Java 21+
- **Spring Boot**: 3.2.0+
- **gRPC**: 1.58.0+
- **ç½‘ç»œ**: é›†ç¾¤èŠ‚ç‚¹é—´éœ€è¦ç½‘ç»œäº’é€š

## ğŸ“ˆ ç›‘æ§å’Œç»Ÿè®¡

### ç»Ÿè®¡ä¿¡æ¯
æ¯ä¸ªç»„ä»¶éƒ½æä¾›è¯¦ç»†çš„ç»Ÿè®¡ä¿¡æ¯ï¼š
- **ClusterRoutingStats**: è·¯ç”±ç»Ÿè®¡
- **DistributionStats**: åˆ†å‘ç»Ÿè®¡
- **OptimizerStats**: ä¼˜åŒ–å™¨ç»Ÿè®¡
- **LoadBalanceStats**: è´Ÿè½½å‡è¡¡ç»Ÿè®¡
- **ConflictStatistics**: å†²çªè§£å†³ç»Ÿè®¡

### å¥åº·æ£€æŸ¥
- é›†ç¾¤çŠ¶æ€ç›‘æ§
- èŠ‚ç‚¹å¥åº·çŠ¶æ€
- æ€§èƒ½æŒ‡æ ‡æ”¶é›†

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### å¯åŠ¨é›†ç¾¤ç®¡ç†å™¨
```java
@Autowired
private VmqttClusterManager clusterManager;

// é›†ç¾¤ä¼šåœ¨åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨åˆå§‹åŒ–
// å¯ä»¥æ‰‹åŠ¨è§¦å‘åŒæ­¥
CompletableFuture<Boolean> syncResult = clusterManager.triggerClusterSync();

// è·å–é›†ç¾¤çŠ¶æ€
ClusterStatusInfo status = clusterManager.getClusterStatus();
```

### è®¢é˜…ç®¡ç†
```java
@Autowired
private ClusterAwareSessionManager sessionManager;

// æ·»åŠ å¸¦é›†ç¾¤åŒæ­¥çš„è®¢é˜…
CompletableFuture<Boolean> result = sessionManager.addSubscriptionWithClusterSync(
    clientId, subscription);
```

## ğŸ”„ é›†æˆè¯´æ˜

### ä¸ç°æœ‰ç»„ä»¶é›†æˆ
- **SessionManager**: é€šè¿‡ClusterAwareSessionManageråŒ…è£…ç°æœ‰å®ç°
- **MessageRouter**: é€šè¿‡ClusterMessageRoutingEngineæ‰©å±•è·¯ç”±èƒ½åŠ›
- **LoadBalancer**: é€šè¿‡ClusterAwareLoadBalancerå¢å¼ºè´Ÿè½½å‡è¡¡

### APIå…¼å®¹æ€§
- ä¿æŒç°æœ‰APIçš„å®Œå…¨å…¼å®¹æ€§
- æ–°å¢çš„é›†ç¾¤åŠŸèƒ½é€šè¿‡æ–°çš„æ¥å£æä¾›
- æ”¯æŒé›†ç¾¤åŠŸèƒ½çš„æ¸è¿›å¼å¯ç”¨

## ğŸ“ ä»£ç è´¨é‡

### ä»£ç è§„èŒƒ
- éµå¾ªé¡¹ç›®æ—¢å®šçš„Javaç¼–ç è§„èŒƒ
- å®Œæ•´çš„JavaDocæ³¨é‡Š
- ä½¿ç”¨@authorå’Œ@dateæ ‡æ³¨
- ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è®°å½•

### è®¾è®¡æ¨¡å¼åº”ç”¨
- **ç­–ç•¥æ¨¡å¼**: è´Ÿè½½å‡è¡¡ç­–ç•¥é€‰æ‹©
- **è§‚å¯Ÿè€…æ¨¡å¼**: é›†ç¾¤äº‹ä»¶é€šçŸ¥
- **å•ä¾‹æ¨¡å¼**: é›†ç¾¤ç®¡ç†å™¨
- **å·¥å‚æ¨¡å¼**: gRPCæœåŠ¡åˆ›å»º

## ğŸ¯ åç»­ä¼˜åŒ–å»ºè®®

### åŠŸèƒ½å¢å¼º
1. æ·»åŠ é›†ç¾¤é…ç½®åŠ¨æ€å˜æ›´æ”¯æŒ
2. å®ç°æ›´å¤æ‚çš„è·¯ç”±ç­–ç•¥ï¼ˆå¦‚åŸºäºåœ°ç†ä½ç½®ï¼‰
3. å¢åŠ é›†ç¾¤æ•°æ®æŒä¹…åŒ–æœºåˆ¶
4. æ”¯æŒå¤šæ•°æ®ä¸­å¿ƒéƒ¨ç½²

### æ€§èƒ½ä¼˜åŒ–
1. å®ç°æ›´é«˜æ•ˆçš„åºåˆ—åŒ–æœºåˆ¶
2. æ·»åŠ ç½‘ç»œå‹ç¼©æ”¯æŒ
3. ä¼˜åŒ–å†…å­˜ä½¿ç”¨å’ŒGCæ€§èƒ½
4. å®ç°é›¶æ‹·è´æ¶ˆæ¯ä¼ è¾“

### è¿ç»´å¢å¼º
1. æ·»åŠ Grafanaç›‘æ§é¢æ¿
2. å®ç°åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª
3. å¢åŠ å‘Šè­¦å’Œæ•…éšœè‡ªæ„ˆæœºåˆ¶
4. æä¾›é›†ç¾¤è¯Šæ–­å·¥å…·

## âœ… é¡¹ç›®çŠ¶æ€

- **ç¼–è¯‘çŠ¶æ€**: vmqtt-coreæ¨¡å—ç¼–è¯‘é€šè¿‡ âœ…
- **åŠŸèƒ½å®Œæ•´æ€§**: æ‰€æœ‰é¢„å®šåŠŸèƒ½å·²å®ç° âœ… 
- **ä»£ç è´¨é‡**: ç¬¦åˆé¡¹ç›®ç¼–ç è§„èŒƒ âœ…
- **æ–‡æ¡£å®Œæ•´æ€§**: æä¾›å®Œæ•´çš„å®ç°æ–‡æ¡£ âœ…

---

**å®ç°æ—¥æœŸ**: 2025-08-10  
**å®ç°è€…**: Claude (V-MQTTé›†ç¾¤æ¶æ„å¸ˆ)  
**é¡¹ç›®çŠ¶æ€**: é›†ç¾¤åŠŸèƒ½å®ç°å®Œæˆï¼Œå¯è¿›å…¥æµ‹è¯•é˜¶æ®µ ğŸš€